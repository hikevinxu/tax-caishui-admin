(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3fa0"],{GLRY:function(e,t,i){"use strict";i.r(t);var a=i("ZySA"),s=i("Mz3J"),n=i("c14z"),l=i("e44F"),o={components:{Pagination:s.a},directives:{waves:a.a},filters:{statusFilters:function(e){switch(e){case 1:return"已上架";case 2:return"已下架";case 3:return"平台下架";default:return""}}},data:function(){return{loading:!1,listQuery:{companyId:"",pageSize:10,pageNum:1,serviceCode:""},firstServiceCode:"",firstServiceCodeList:[],secondServiceCode:"",secondServiceCodeList:[],thirdServiceCode:"",thirdServiceCodeList:[],companyList:[],statusList:[],listLoading:!1,list:[],total:0,dialogRefuseVisible:!1,failReasonList:[{name:"服务信息不合规"},{name:"内容不合法"},{name:"其他"}],showFailReason:!1,temp:{id:"",failCause:"",otherReason:""},dialogDetailVisible:!1,serviceDetailData:{},dialogDownRecordsVisible:!1,downRecordsData:[],downRecordsLoading:!1}},created:function(){this.getServiceTypeList(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(n.k)(this.listQuery).then(function(t){0==t.code&&(e.list=t.data.items,e.total=t.data.total,e.listLoading=!1)})},getServiceTypeList:function(){var e=this;Object(l.t)().then(function(t){0==t.code&&(e.firstServiceCodeList=t.data)})},firstServiceCodeChange:function(e){var t=this;if(this.secondServiceCode="",this.thirdServiceCode="",this.secondServiceCodeList=[],this.thirdServiceCodeList=[],e&&""!=e){var i={parentCode:e};Object(l.t)(i).then(function(i){0==i.code&&(i.data.length>0?t.secondServiceCodeList=i.data:(t.listQuery.serviceCode=e,t.getList()))})}},secondServiceCodeChange:function(e){this.listQuery.serviceCode=e,this.getList()},thirdServiceCodeChange:function(e){this.listQuery.serviceCode=e,this.getList()},handleDown:function(e){this.dialogRefuseVisible=!0,this.temp.id=e.id},failChose:function(){"其他"==this.temp.failCause?this.showFailReason=!0:this.showFailReason=!1},serviceShelfDown:function(){var e=this,t={id:this.temp.id,downShelfCause:"其他"==this.temp.failCause?this.temp.otherReason:this.temp.failCause};""!=t.downShelfCause?Object(n.l)(t).then(function(t){0==t.code&&(e.dialogRefuseVisible=!1,e.dialogDetailVisible=!1,e.$notify({title:"成功",message:"下架成功",type:"success",duration:2e3}),e.getList())}):this.$message({message:"下架原因不能为空",type:"error",showClose:!0,duration:1e3})},serviceShelfUp:function(e){var t=this,i={id:e.id};Object(n.m)(i).then(function(e){0==e.code&&(t.dialogDetailVisible=!1,t.$notify({title:"成功",message:"上架成功",type:"success",duration:2e3}),t.getList())})},lookServiceDownRecords:function(e){var t=this;this.dialogDownRecordsVisible=!0,this.downRecordsLoading=!0;var i={id:e.id};Object(n.j)(i).then(function(e){0==e.code&&(console.log(e),t.downRecordsData=e.data,t.downRecordsLoading=!1)})},companyChange:function(){this.getList()},searchCompanyList:function(e){var t=this;if(""!==e){this.loading=!0;var i={pageNum:1,pageSize:20,keyword:e};Object(l.s)(i).then(function(e){0==e.code&&(console.log(e),t.loading=!1,t.companyList=e.data.items)})}else this.companyList=[]},resetServiceDetailData:function(){},lookDetail:function(e){var t=this,i={id:e.id};Object(n.i)(i).then(function(i){0==i.code&&(t.serviceDetailData=i.data,t.serviceDetailData.status=e.status)}),this.dialogDetailVisible=!0}}},r=(i("c8Gj"),i("KHd+")),c=Object(r.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"serviceList"},[i("div",{staticClass:"filter-container"},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择关联类目"},on:{change:e.firstServiceCodeChange},model:{value:e.firstServiceCode,callback:function(t){e.firstServiceCode=t},expression:"firstServiceCode"}},e._l(e.firstServiceCodeList,function(e,t){return i("el-option",{key:e+t,attrs:{label:e.name,value:e.code}})})),e._v(" "),e.secondServiceCodeList.length>0?i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择关联类目"},on:{change:e.secondServiceCodeChange},model:{value:e.secondServiceCode,callback:function(t){e.secondServiceCode=t},expression:"secondServiceCode"}},e._l(e.secondServiceCodeList,function(e,t){return i("el-option",{key:e+t,attrs:{label:e.name,value:e.code}})})):e._e(),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入公司全称","remote-method":e.searchCompanyList,loading:e.loading},on:{change:e.companyChange},model:{value:e.listQuery.companyId,callback:function(t){e.$set(e.listQuery,"companyId",t)},expression:"listQuery.companyId"}},e._l(e.companyList,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")])],1),e._v(" "),i("div",{staticClass:"tableClass"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"关联类目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.serviceName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"服务标题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"企业名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.companyName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"上架时间",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.upShelfTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?i("el-tag",[e._v(e._s(e._f("statusFilters")(t.row.status)))]):i("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"240px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.lookDetail(t.row)}}},[e._v("查看")]),e._v(" "),1!==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"small"},on:{click:function(i){e.serviceShelfUp(t.row)}}},[e._v("上架")]):e._e(),e._v(" "),1==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"small"},on:{click:function(i){e.handleDown(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.lookServiceDownRecords(t.row)}}},[e._v("下架记录")])]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogRefuseVisible,width:"600px",title:"下架原因"},on:{"update:visible":function(t){e.dialogRefuseVisible=t}}},[i("el-form",{ref:"dataForm1",attrs:{model:e.temp,"label-position":"right","label-width":"120px"}},[i("el-form-item",{attrs:{label:"拒绝原因：",prop:"failCause"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"请选择原因"},on:{change:e.failChose},model:{value:e.temp.failCause,callback:function(t){e.$set(e.temp,"failCause",t)},expression:"temp.failCause"}},e._l(e.failReasonList,function(e,t){return i("el-option",{key:e+t,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showFailReason,expression:"showFailReason"}],attrs:{label:"添加原因：",prop:"failReason"}},[i("el-input",{attrs:{placeholder:"请输入下架原因"},model:{value:e.temp.otherReason,callback:function(t){e.$set(e.temp,"otherReason",t)},expression:"temp.otherReason"}})],1),e._v(" "),i("span",{staticStyle:{color:"red"}},[e._v("下架前请确保所有广告位没有该服务，防止程序出错")])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogRefuseVisible=!1}}},[e._v("返回")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.serviceShelfDown}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogDetailVisible,width:"800px",title:"服务详情",top:"5vh"},on:{"update:visible":function(t){e.dialogDetailVisible=t}}},[i("div",{staticClass:"serviceDetail"},[e.serviceDetailData.companyName?i("div",{staticClass:"detail_item"},[i("label",[e._v("企业名称")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.companyName))])]):e._e(),e._v(" "),e.serviceDetailData.serviceName?i("div",{staticClass:"detail_item"},[i("label",[e._v("关联服务")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.serviceName))])]):e._e(),e._v(" "),e.serviceDetailData.imgs&&e.serviceDetailData.imgs.length>0?i("div",{staticClass:"detail_item"},[i("label",[e._v("宣传图片")]),e._v(" "),i("div",[i("ul",e._l(e.serviceDetailData.imgs,function(e,t){return i("li",{key:"imgs"+t},[i("img",{attrs:{src:e.img,alt:""}})])}))])]):e._e(),e._v(" "),e.serviceDetailData.cityNames&&e.serviceDetailData.cityNames.length>0?i("div",{staticClass:"detail_item"},[i("label",[e._v("服务区域")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.cityNames.join(",")))])]):e._e(),e._v(" "),e.serviceDetailData.title?i("div",{staticClass:"detail_item"},[i("label",[e._v("服务标题")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.title))])]):e._e(),e._v(" "),e.serviceDetailData.handleProcessDuration?i("div",{staticClass:"detail_item"},[i("label",[e._v("办理步骤及所需时间")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.handleProcessDuration))])]):e._e(),e._v(" "),e.serviceDetailData.handleMaterial?i("div",{staticClass:"detail_item"},[i("label",[e._v("办理所需材料")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.handleMaterial))])]):e._e(),e._v(" "),e.serviceDetailData.deliveryMaterial?i("div",{staticClass:"detail_item"},[i("label",[e._v("交付材料")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.deliveryMaterial))])]):e._e(),e._v(" "),e.serviceDetailData.deliveryDuration?i("div",{staticClass:"detail_item"},[i("label",[e._v("交付时长")]),e._v(" "),i("div",[e._v(e._s(e.serviceDetailData.deliveryDuration))])]):e._e(),e._v(" "),e.serviceDetailData.introduce&&""!=e.serviceDetailData.introduce?i("div",{staticClass:"detail_item"},[i("label",[e._v("服务介绍")]),e._v(" "),i("div",{staticClass:"introduce",domProps:{innerHTML:e._s(e.serviceDetailData.introduce)}})]):e._e(),e._v(" "),e.serviceDetailData.items&&e.serviceDetailData.items.length>0?i("div",{staticClass:"detail_item"},[i("label",[e._v("服务报价")]),e._v(" "),i("div",{staticClass:"table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.serviceDetailData.items,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"服务项",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"报价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.price))])]}}])})],1)],1)]):e._e()]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogDetailVisible=!1}}},[e._v("返回")]),e._v(" "),1!==e.serviceDetailData.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:function(t){e.serviceShelfUp(e.serviceDetailData)}}},[e._v("上架")]):e._e(),e._v(" "),1==e.serviceDetailData.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:function(t){e.handleDown(e.serviceDetailData)}}},[e._v("下架")]):e._e()],1)]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogDownRecordsVisible,width:"1000px",title:"下架记录"},on:{"update:visible":function(t){e.dialogDownRecordsVisible=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.downRecordsLoading,expression:"downRecordsLoading"}],staticStyle:{width:"100%"},attrs:{data:e.downRecordsData,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"50px"}}),e._v(" "),i("el-table-column",{attrs:{label:"关联类目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.serviceName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"服务标题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"企业名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.companyName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"下架时间",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.downShelfTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"下架原因",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticStyle:{color:"#337ab7"}},[e._v(e._s(t.row.downShelfCause))])]}}])})],1)],1)],1)])},[],!1,null,"a00f0c1e",null);c.options.__file="serviceList.vue";t.default=c.exports},Y5bG:function(e,t,i){"use strict";i.d(t,"a",function(){return s}),Math.easeInOutQuad=function(e,t,i,a){return(e/=a/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function s(e,t,i){var s=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=e-s,l=0;t=void 0===t?500:t;!function e(){l+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(l,s,n,t)),l<t?a(e):i&&"function"==typeof i&&i()}()}},ZySA:function(e,t,i){"use strict";var a=i("P2sY"),s=i.n(a),n=(i("jUE0"),{bind:function(e,t){e.addEventListener("click",function(i){var a=s()({},t.value),n=s()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),l=n.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var o=l.getBoundingClientRect(),r=l.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":((r=document.createElement("span")).className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",l.appendChild(r)),n.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(i.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(i.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=n.color,r.className="waves-ripple z-active",!1}},!1)}}),l=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(l)),n.install=l;t.a=n},c14z:function(e,t,i){"use strict";i.d(t,"c",function(){return l}),i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r}),i.d(t,"d",function(){return c}),i.d(t,"g",function(){return d}),i.d(t,"h",function(){return u}),i.d(t,"f",function(){return v}),i.d(t,"e",function(){return f}),i.d(t,"k",function(){return p}),i.d(t,"l",function(){return m}),i.d(t,"m",function(){return h}),i.d(t,"i",function(){return _}),i.d(t,"j",function(){return g});var a=i("DG18"),s=i("Qyje"),n=i.n(s);function l(e){return Object(a.b)("/merchant/apply/list",e)}function o(e){return Object(a.b)("/merchant/apply/audit",e)}function r(e){return Object(a.a)("/merchant/apply/detail",e)}function c(e){return Object(a.a)("/merchant/apply/company_types",e)}function d(e){return Object(a.b)("/merchant/list",e)}function u(e){var t=n.a.stringify(e);return Object(a.b)("/merchant/shelf/up",t)}function v(e){var t=n.a.stringify(e);return Object(a.b)("/merchant/shelf/down",t)}function f(e){return Object(a.a)("/merchant/detail",e)}function p(e){return Object(a.b)("/service/list",e)}function m(e){var t=n.a.stringify(e);return Object(a.b)("/service/shelf/down",t)}function h(e){var t=n.a.stringify(e);return Object(a.b)("/service/shelf/up",t)}function _(e){return Object(a.a)("/service/detail",e)}function g(e){return Object(a.a)("/service/down_records",e)}},c8Gj:function(e,t,i){"use strict";var a=i("vGX5");i.n(a).a},jUE0:function(e,t,i){},vGX5:function(e,t,i){}}]);