(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-44b1"],{"0hRK":function(e,t,n){"use strict";var i=n("b6PW");n.n(i).a},JLD6:function(e,t,n){},Mz3J:function(e,t,n){"use strict";Math.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,n){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=e-a,r=0;t=void 0===t?500:t;!function e(){r+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(r,a,s,t)),r<t?i(e):n&&"function"==typeof n&&n()}()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&a(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&a(0,800)}}},r=(n("PelQ"),n("KHd+")),o=Object(r.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},[],!1,null,"7d9f0a7c",null);o.options.__file="index.vue";t.a=o.exports},PelQ:function(e,t,n){"use strict";var i=n("X9ZH");n.n(i).a},X9ZH:function(e,t,n){},b6PW:function(e,t,n){},iETj:function(e,t,n){"use strict";n.r(t);var i=n("Mz3J"),a=n("lFhg"),s={components:{Pagination:i.a},filters:{statusFilters:function(e){switch(e){case 1:return"已上架";case 2:return"已下架";case 3:return"平台下架";default:return""}}},data:function(){return{listLoading:!1,listQuery:{companyId:this.$route.query.id,pageNum:1,pageSize:10,shelf:!1},total:0,list:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,a.a.serviceList(this.listQuery).then(function(t){0==t.code&&(e.total=t.data.total,e.list=t.data.items,e.listLoading=!1)})},serviceShelfUp:function(e){var t=this,n={companyId:this.$route.query.id,id:e.id};a.a.serviceShelfUp(n).then(function(e){0==e.code&&(t.$message({message:"上架成功",type:"success",showClose:!0,duration:1e3}),t.getList())})},serviceShelfDown:function(e){var t=this,n={companyId:this.$route.query.id,id:e.id};a.a.serviceShelfDown(n).then(function(e){0==e.code&&(t.$message({message:"下架成功",type:"success",showClose:!0,duration:1e3}),t.getList())})},toAddService:function(){this.$router.push("/merchants/serviceEdit?companyId="+this.$route.query.id)},editService:function(e){this.$router.push("/merchants/serviceEdit?id="+e.id+"&companyId="+this.$route.query.id)}}},r=(n("0hRK"),n("qPOv"),n("KHd+")),o=Object(r.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"serviceManager"},[n("div",{staticClass:"serviceManagerInfo"},[n("div",{staticClass:"serviceManager_title"},[n("h4",[e._v("服务管理")]),e._v(" "),n("span",{staticClass:"addService",on:{click:e.toAddService}},[e._v("+添加服务")])]),e._v(" "),n("div",{staticClass:"serviceManager_table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableClass",staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{label:"关联类目",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.serviceName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"服务标题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.title))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"上架时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.upShelfTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))]):e._e(),e._v(" "),2==t.row.status?n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))]):e._e(),e._v(" "),3==t.row.status?n("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status?n("el-button",{staticStyle:{color:"#FF7F4A"},attrs:{type:"text",size:"small"},on:{click:function(n){e.serviceShelfUp(t.row)}}},[e._v("上架")]):e._e(),e._v(" "),1==t.row.status?n("el-button",{staticStyle:{color:"#5AB3A4"},attrs:{type:"text",size:"small"},on:{click:function(n){e.serviceShelfDown(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),1!=t.row.status?n("el-button",{staticStyle:{color:"#5AB3A4"},attrs:{type:"text",size:"small"},on:{click:function(n){e.editService(t.row)}}},[e._v("编辑")]):e._e()]}}])})],1),e._v(" "),n("pagination",{attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1)])])},[],!1,null,"2cc37a50",null);o.options.__file="serviceManager.vue";t.default=o.exports},lFhg:function(e,t,n){"use strict";var i=n("DG18"),a=n("Qyje"),s=n.n(a);t.a={serviceList:function(e){var t=s.a.stringify(e);return Object(i.b)("/merchant/service/list",t)},serviceAdd:function(e){return Object(i.b)("/merchant/service/add",e)},serviceUpdate:function(e){return Object(i.b)("/merchant/service/update",e)},serviceShelfDown:function(e){var t=s.a.stringify(e);return Object(i.b)("/merchant/service/shelf/down",t)},serviceShelfUp:function(e){var t=s.a.stringify(e);return Object(i.b)("/merchant/service/shelf/up",t)},serviceItemTrees:function(e){return Object(i.a)("/merchant/service/service_items",e)},serviceEdit:function(e){return Object(i.a)("/merchant/service/edit",e)},serviceTemplate:function(e){return Object(i.a)("/merchant/service/template",e)}}},qPOv:function(e,t,n){"use strict";var i=n("JLD6");n.n(i).a}}]);