(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5ddf"],{"0Kbc":function(e,t,i){},GV7n:function(e,t,i){"use strict";var a=i("MSNs"),o={name:"uploadImgTemp",props:{value:{type:Object,default:function(){return{imgUrl:""}}}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value.imgUrl}},methods:{rmImage:function(){this.emitInput({})},emitInput:function(e){this.$emit("input",e)},handleImageSuccess:function(e){this.tempUrl=e.data,this.emitInput(this.tempUrl)},handleMove:function(e){console.log(e.data)},beforeUpload:function(){},upload:function(e){var t=this,i=new FormData;i.append("files",e.file),Object(a.a)(i).then(function(i){if(0==i.code){var a=new FileReader;a.readAsDataURL(e.file),a.onloadend=function(e){t.tempUrl=e.target.result;var a={imgUrl:e.target.result,fileId:i.data[0].fileId};t.emitInput(a)}}}).catch(function(e){t.$message.error("上传失败，请重新上传")})}}},n=(i("W2SC"),i("KHd+")),s=Object(n.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("div",{staticClass:"image-preview"},[i("div",{staticClass:"image-preview-wrapper",staticStyle:{width:"200px",height:"200px"}},[e.imageUrl?i("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:e.imageUrl}}):e._e(),e._v(" "),i("div",{staticClass:"image-preview-action"},[i("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])]),e._v(" "),i("el-upload",{staticClass:"image-uploader",staticStyle:{width:"200px",height:"200px"},attrs:{data:e.dataObj,multiple:!1,"show-file-list":!1,"on-remove":e.handleMove,"on-success":e.handleImageSuccess,drag:"",action:"","http-request":e.upload}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("br"),i("em",[e._v("点击修改")])])])],1)},[],!1,null,"1f3cdda2",null);s.options.__file="uploadImgTemp.vue";t.a=s.exports},MSNs:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i("DG18");function o(e){return Object(a.b)("/fileupload/upload",e)}},Mz3J:function(e,t,i){"use strict";Math.easeInOutQuad=function(e,t,i,a){return(e/=a/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function o(e,t,i){var o=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=e-o,s=0;t=void 0===t?500:t;!function e(){s+=20,function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}(Math.easeInOutQuad(s,o,n,t)),s<t?a(e):i&&"function"==typeof i&&i()}()}var n={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&o(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},s=(i("PelQ"),i("KHd+")),r=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},[],!1,null,"7d9f0a7c",null);r.options.__file="index.vue";t.a=r.exports},PelQ:function(e,t,i){"use strict";var a=i("X9ZH");i.n(a).a},QDog:function(e,t,i){"use strict";t.a={jumpTypeList:[{name:"原生普通页面",id:1},{name:"h5链接",id:2},{name:"服务搜索页",id:3},{name:"公司详情页",id:4}],statusList:[{name:"待上架",id:0},{name:"已上架",id:1},{name:"已下架",id:2}],pageUrlList:[{name:"公司详情页",id:"main/home/queryService/company"},{name:"服务详情页",id:"main/home/queryService/servicer"}],formTypeList:[{name:"海外公司注册",id:1},{name:"公司注册",id:2}]}},W2SC:function(e,t,i){"use strict";var a=i("0Kbc");i.n(a).a},X9ZH:function(e,t,i){},ZySA:function(e,t,i){"use strict";var a=i("P2sY"),o=i.n(a),n=(i("jUE0"),{bind:function(e,t){e.addEventListener("click",function(i){var a=o()({},t.value),n=o()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=n.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var r=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(r.width,r.height)+"px",s.appendChild(l)),n.type){case"center":l.style.top=r.height/2-l.offsetHeight/2+"px",l.style.left=r.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(i.pageY-r.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(i.pageX-r.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}},!1)}}),s=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(s)),n.install=s;t.a=n},a4CG:function(e,t,i){"use strict";var a=i("gDS+"),o=i.n(a),n=i("e44F"),s=i("c14z"),r=i("kaoP"),l=i("QDog"),d=i("ZySA"),c=i("GV7n"),u=i("Mz3J"),m={name:"BussinessAd",components:{Upload:c.a,Pagination:u.a},directives:{waves:d.a},props:{type:{type:String,default:"baseSet"},typeId:{type:String,default:""},relateType:{type:String,default:""},elementType:{type:String,default:""},adType:{type:String,default:""}},data:function(){return{listQuery:{positionNo:this.typeId,adType:this.adType,status:"",adTitle:"",typeValue:"",elementValue:"",pageNum:1,pageSize:10},statusList:l.a.statusList,listLoading:!1,list:[],total:0,dialogFormVisible:!1,dialogFormVisible2:!1,createCityFormDialog:!1,dialogStatus:"",dialogStatusLoading:!1,dialogStatus2:"",dialogStatusLoading2:!1,pageUrlList:l.a.pageUrlList,firmList:[],loading:!1,typeValueList:[],firstCodeFilter:"",firstCode:"",firstCodeList:[],secondCodeFilter:"",secondCode:"",secondCodeList:[],thirdCodeFilter:"",thirdCode:"",thirdCodeList:[],adId:"",typeValueTemp:"",form:{adTitle:"",elementValue:{imgUrl:""},elementName:"",goType:"",pageUrl:"",nativeUrl:"",h5Url:"",adValue:"",remark:"",typeValue:"",firmId:"",firmImg:{imgUrl:"",fileId:""}},putListLoading:!1,putList:[],addCityForm:{id:"",putProvince:"",cityName:"",cityCode:"",putTime:[],adIndex:"",jumpType:""},provinceList:[],cityList:[],canUsePosition:[],goTypeList:[{name:"无跳转",id:3},{name:"原生",id:2},{name:"其他URL",id:1}],tabTitle:"baseSet",serviceList:[],serviceId:"",firstServiceCode:"",firstServiceCodeList:[],secondServiceCode:"",secondServiceCodeList:[],thirdServiceCode:"",thirdServiceCodeList:[]}},created:function(){console.log(this.adType),this.getServiceTypeList(),this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(n.h)(this.listQuery).then(function(t){0==t.code&&(e.list=t.data.items,e.total=t.data.total,e.listLoading=!1)})},firstCodeSearch:function(e){var t=this;this.secondCodeFilter="",this.thirdCodeFilter="",this.secondCodeList=[],this.thirdCodeList=[];var i={parentCode:e};if(Object(n.t)(i).then(function(e){0==e.code&&(t.secondCodeList=e.data)}),""==e)this.listQuery.typeValue="",this.getList();else for(var a=0;a<this.firstCodeList.length;a++)this.firstCodeList[a].code==e&&this.firstCodeList[a].leafNode&&(this.listQuery.typeValue=e,this.getList())},secondCodeSearch:function(e){var t=this;this.thirdCodeFilter="",this.thirdCodeList=[];var i={parentCode:e};if(Object(n.t)(i).then(function(e){0==e.code&&(t.thirdCodeList=e.data)}),""==e)this.listQuery.typeValue="",this.getList();else for(var a=0;a<this.secondCodeList.length;a++)this.secondCodeList[a].code==e&&this.secondCodeList[a].leafNode&&(this.listQuery.typeValue=e,this.getList())},thirdCodeSearch:function(e){if("  "==e)this.listQuery.typeValue="",this.getList();else for(var t=0;t<this.thirdCodeList.length;t++)this.thirdCodeList[t].code==e&&this.thirdCodeList[t].leafNode&&(this.listQuery.typeValue=e,this.getList())},handleUp:function(e){var t=this;this.$confirm("确认上架?","提示",{}).then(function(){var i={adId:e.id};Object(n.j)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"上架成功",type:"success",duration:2e3}),t.getList()})})},handleDown:function(e){var t=this;this.$confirm("确认下架?","提示",{}).then(function(){var i={adId:e.id};Object(n.r)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"下架成功",type:"success",duration:2e3}),t.getList()})})},handleDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{}).then(function(){var i={adId:e.id};Object(n.a)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getList()})})},resetForm:function(){this.form={adTitle:"",elementValue:{imgUrl:"",fileId:""},elementName:"",goType:"",pageUrl:"",nativeUrl:"",h5Url:"",adValue:"",remark:"",typeValue:"",firmId:"",firmImg:{imgUrl:""}},this.firstCode="",this.secondCode="",this.thirdCode="",this.firstCodeList=[],this.secondCodeList=[],this.thirdCodeList=[],this.serviceId="",this.serviceList=[]},handleCreate:function(){this.adId="",this.resetForm(),this.getServiceTypeList(),this.dialogFormVisible=!0,this.dialogStatus="create"},createData:function(){var e=this;if(2!=this.form.goType||"main/home/queryService/company"!=this.form.nativeUrl||this.form.firmId&&""!=this.form.firmId){if(2==this.form.goType&&"main/home/queryService/servicer"==this.form.nativeUrl){if(!this.form.firmId||""==this.form.firmId)return void this.$message.error("请先选择一个公司！");if(!this.serviceId||""==this.serviceId)return void this.$message.error("请先选择一个服务！")}console.log(this.form.elementValue.fileId);var t={positionNo:this.typeId,adType:this.adType,adTitle:this.form.adTitle,typeValue:this.form.typeValue,elementValue:this.form.elementValue.fileId,goType:this.form.goType,adValue:1==this.form.goType?this.form.h5Url:this.form.nativeUrl,remark:this.form.remark},i=void 0;i=this.serviceId&&""!=this.serviceId?[{name:"serviceId",value:this.serviceId,type:"serviceId"},{name:"firmId",value:this.form.firmId,type:"companyId"}]:[{name:"firmId",value:this.form.firmId,type:"companyId"}],t.adParam=o()(i),this.dialogStatusLoading=!0,Object(n.c)(t).then(function(t){e.dialogStatusLoading=!1,0==t.code&&(console.log(t),e.adId=t.data,e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3}),e.dialogFormVisible=!1,e.getList())}).catch(function(t){e.dialogStatusLoading=!1})}else this.$message.error("请先选择一个公司！")},handleEdit:function(e){var t=this;console.log(e),this.resetForm(),this.adId=e.id;var i={adId:e.id};Object(n.b)(i).then(function(e){if(0==e.code){if(console.log(e),t.form.adTitle=e.data.info.adTitle,t.form.adType=e.data.info.adType,t.form.remark=e.data.info.remark,1==t.elementType?(t.form.elementValue.imgUrl=e.data.info.elementValue,t.form.elementValue.fileId=e.data.info.elementValue):2==t.elementType&&(t.form.elementName=e.data.info.elementName,t.form.elementValue.fileId=e.data.info.elementValue),t.form.typeValue=e.data.info.typeValue,t.form.goType=e.data.info.goType,1==e.data.info.goType)t.form.h5Url=e.data.info.adValue;else if(2==e.data.info.goType&&(t.form.nativeUrl=e.data.info.adValue,e.data.info.adParam)){var i=JSON.parse(e.data.info.adParam).serviceId;t.form.firmId=JSON.parse(e.data.info.adParam).firmId,t.form.firmName=JSON.parse(e.data.info.adParam).companyName;var a={pageNum:1,pageSize:100,companyId:t.form.firmId};Object(s.k)(a).then(function(e){0==e.code&&(t.serviceList=e.data.items,t.serviceId=parseInt(i))})}var o=e.data.codeList;if(o&&o.length>0){t.firstCode=o[0];var r={parentCode:t.firstCode};Object(n.t)(r).then(function(e){0==e.code&&(t.secondCodeList=e.data)})}else t.firstCode=t.form.typeValue;if(o&&o.length>1){t.secondCode=o[1];var l={parentCode:t.secondCode};Object(n.t)(l).then(function(e){0==e.code&&(t.thirdCodeList=e.data)})}else t.secondCode=t.form.typeValue;o&&o.length>2?t.thirdCode=o[2]:t.thirdCode=t.form.typeValue,t.dialogFormVisible=!0,t.dialogStatus="edit",t.getServiceTypeList()}})},editData:function(){var e=this;if(2!=this.form.goType||"main/home/queryService/company"!=this.form.nativeUrl||this.form.firmId&&""!=this.form.firmId){if(2==this.form.goType&&"main/home/queryService/servicer"==this.form.nativeUrl){if(!this.form.firmId||""==this.form.firmId)return void this.$message.error("请先选择一个公司！");if(!this.serviceId||""==this.serviceId)return void this.$message.error("请先选择一个服务！")}var t={id:this.adId,positionNo:this.typeId,adType:this.adType};t.adTitle=this.form.adTitle,t.typeValue=this.form.typeValue,t.elementValue=this.form.elementValue.fileId,t.goType=this.form.goType,t.adValue=1==this.form.goType?this.form.h5Url:this.form.nativeUrl;var i=void 0;i=this.serviceId&&""!=this.serviceId?[{name:"serviceId",value:this.serviceId,type:"serviceId"},{name:"firmId",value:this.form.firmId,type:"companyId"}]:[{name:"firmId",value:this.form.firmId,type:"companyId"}],t.adParam=o()(i),t.remark=this.form.remark,console.log(t),this.dialogStatusLoading=!0,Object(n.d)(t).then(function(t){e.dialogStatusLoading=!1,0==t.code&&(console.log(t),e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3}),e.dialogFormVisible=!1,e.getList())}).catch(function(t){e.dialogStatusLoading=!1})}else this.$message.error("请先选择一个公司！")},advertRecordUp:function(e){var t=this;this.$confirm("确认上架?","提示",{}).then(function(){var i={adId:e.adId,ids:e.id};Object(n.n)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"上架成功",type:"success",duration:2e3}),t.getPutList()})})},advertRecordDown:function(e){var t=this;this.$confirm("确认下架?","提示",{}).then(function(){var i={adId:e.adId,ids:e.id};Object(n.p)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"下架成功",type:"success",duration:2e3}),t.getPutList()})})},selectType:function(e){console.log(e)},pageUrlChange:function(){this.$forceUpdate(),this.serviceId=""},searchFirmList:function(e){var t=this;if(""!==e){this.loading=!0;var i={pageNum:1,pageSize:20,keyword:e};Object(n.s)(i).then(function(e){0==e.code&&(console.log(e),t.loading=!1,t.firmList=e.data.items)})}else this.firmList=[]},firstCodeChange:function(e){var t=this;this.secondCode="",this.thirdCode="",this.secondCodeList=[],this.thirdCodeList=[];var i={parentCode:e};Object(n.t)(i).then(function(e){0==e.code&&(t.secondCodeList=e.data)});for(var a=0;a<this.firstCodeList.length;a++)this.firstCodeList[a].code==e&&this.firstCodeList[a].leafNode&&(this.form.typeValue=e,console.log(1))},secondCodeChange:function(e){var t=this;this.thirdCode="",this.thirdCodeList=[];var i={parentCode:e};Object(n.t)(i).then(function(e){0==e.code&&(t.thirdCodeList=e.data)});for(var a=0;a<this.secondCodeList.length;a++)this.secondCodeList[a].code==e&&this.secondCodeList[a].leafNode&&(this.form.typeValue=e,console.log(2))},thirdCodeChange:function(e){for(var t=0;t<this.thirdCodeList.length;t++)this.thirdCodeList[t].code==e&&this.thirdCodeList[t].leafNode&&(this.form.typeValue=e,console.log(3))},getPutList:function(){var e=this;this.putListLoading=!0;var t={adId:this.adId};Object(n.m)(t).then(function(t){0==t.code&&(e.putListLoading=!1,e.putList=t.data)})},selectThisAd:function(e){if(!this.canUsePosition[e].disabled){for(var t=0;t<this.canUsePosition.length;t++)this.canUsePosition[t].active=!1;this.canUsePosition[e].active=!0,this.addCityForm.adIndex=this.canUsePosition[e].adNum}},getProvinceList:function(){var e=this;Object(r.c)().then(function(t){0==t.code&&(e.provinceList=[{name:"全国",code:"-1"}].concat(t.data))})},provinceChange:function(e){var t=this;if(this.$forceUpdate(),this.addCityForm.cityCode="",this.addCityForm.cityName="",""!=e){if(-1==e)return this.addCityForm.cityCode=-1,this.addCityForm.cityName="全国",void(0!=this.addCityForm.putTime.length&&this.advertRecordIndexCheck());var i={provinceCode:e};Object(r.b)(i).then(function(e){0==e.code&&(t.cityList=e.data)})}},cityChange:function(e){this.$forceUpdate();for(var t=0;t<this.cityList.length;t++)this.cityList[t].code==e&&(this.addCityForm.cityName=this.cityList[t].name,console.log(this.addCityForm.cityName));""!=e&&0!=this.addCityForm.putTime.length&&this.advertRecordIndexCheck()},timeChange:function(e){""!=this.addCityForm.cityCode&&this.advertRecordIndexCheck()},advertRecordIndexCheck:function(e){var t=this,i={positionNo:this.typeId,adType:this.adType,typeValue:this.typeValueTemp,cityCode:this.addCityForm.cityCode,startTime:this.addCityForm.putTime[0],endTime:this.addCityForm.putTime[1]};Object(n.l)(i).then(function(i){if(0==i.code){console.log(i),t.canUsePosition=[];for(var a=0;a<i.data.length;a++)e&&e==i.data[a].index?t.canUsePosition.push({adNum:i.data[a].index,active:!0,disabled:!i.data[a].enbaleUse}):t.canUsePosition.push({adNum:i.data[a].index,active:!1,disabled:!i.data[a].enbaleUse})}})},getServiceTypeList:function(){var e=this;Object(n.t)().then(function(t){0==t.code&&(e.typeValueList=t.data,e.firstCodeList=t.data)})},advertRecordDelete:function(e){var t=this;this.$confirm("确认删除?","提示",{}).then(function(){var i={id:e.id};Object(n.k)(i).then(function(e){0==e.code&&t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),t.getPutList()})})},managerAdvertList:function(e){this.typeValueTemp="",this.adId=e.id,this.typeValueTemp=e.typeValue,this.putList=[],this.dialogFormVisible2=!0,this.getPutList()},resetCityForm:function(){this.addCityForm={id:"",putProvince:"",cityName:"",cityCode:"",putTime:[],adIndex:"",jumpType:""},this.canUsePosition=[]},addCityFormDialog:function(e){this.resetCityForm(),this.getProvinceList(),this.createCityFormDialog=!0,this.dialogStatus2="create"},editCityFormDialog:function(e){var t=this;if(this.resetCityForm(),this.adId=e.adId,this.addCityForm.id=e.id,this.addCityForm.putTime[0]=e.startTime,this.addCityForm.putTime[1]=e.endTime,e.parentCode&&(this.addCityForm.provinceCode=String(e.parentCode),Object(r.c)().then(function(e){0==e.code&&(t.provinceList=[{name:"全国",code:"-1"}].concat(e.data))})),e.cityCode){this.addCityForm.cityCode=String(e.cityCode);var i={provinceCode:e.parentCode};Object(r.b)(i).then(function(e){0==e.code&&(t.cityList=e.data)})}this.addCityForm.adIndex=e.adIndex,this.addCityForm.cityName=e.cityName,this.createCityFormDialog=!0,this.dialogStatus2="edit",this.advertRecordIndexCheck(e.adIndex)},createCityData:function(){var e=this,t={adId:this.adId,cityCode:this.addCityForm.cityCode,cityName:this.addCityForm.cityName,startTime:this.addCityForm.putTime[0],endTime:this.addCityForm.putTime[1],adIndex:this.addCityForm.adIndex};t.adId&&""!=t.adId?(this.dialogStatusLoading2=!0,Object(n.o)(t).then(function(t){e.dialogStatusLoading2=!1,0==t.code&&(console.log(t),e.$notify({title:"成功",message:"添加投放城市成功",type:"success",duration:2e3}),e.getPutList(),e.createCityFormDialog=!1)}).catch(function(t){e.dialogStatusLoading2=!1})):this.$message.error("请先添加一个广告")},editCityData:function(){var e=this,t={adId:this.adId,id:this.addCityForm.id,cityCode:this.addCityForm.cityCode,cityName:this.addCityForm.cityName,startTime:this.addCityForm.putTime[0],endTime:this.addCityForm.putTime[1],adIndex:this.addCityForm.adIndex};this.dialogStatusLoading2=!0,Object(n.q)(t).then(function(t){e.dialogStatusLoading2=!1,0==t.code&&(console.log(t),e.$notify({title:"成功",message:"修改投放城市成功",type:"success",duration:2e3}),e.getPutList(),e.createCityFormDialog=!1)}).catch(function(t){e.dialogStatusLoading2=!1})},firmNameChange:function(e){var t=this;this.form.firmId=e,this.serviceId="";var i={pageNum:1,pageSize:100,companyId:e};Object(s.k)(i).then(function(e){0==e.code&&(t.serviceList=e.data.items)})},serviceIdChange:function(e){},elementValueNameChange:function(e){this.form.elementValue.fileId=e},getServiceTypeList2:function(){var e=this;Object(n.t)().then(function(t){0==t.code&&(e.firstServiceCodeList=t.data)})},firstServiceCodeChange:function(e){var t=this;if(this.secondServiceCode="",this.thirdServiceCode="",this.secondServiceCodeList=[],this.thirdServiceCodeList=[],e&&""!=e){var i={parentCode:e};Object(n.t)(i).then(function(i){0==i.code&&(i.data.length>0?t.secondServiceCodeList=i.data:(t.listQuery.serviceCode=e,t.getServiceList()))})}},secondServiceCodeChange:function(e){var t=this;if(this.thirdServiceCode="",this.thirdServiceCodeList=[],e&&""!=e){var i={parentCode:e};Object(n.t)(i).then(function(i){0==i.code&&(i.data.length>0?t.thirdServiceCodeList=i.data:(t.listQuery.serviceCode=e,t.getServiceList()))})}},thirdServiceCodeChange:function(e){this.listQuery.serviceCode=e,this.getServiceList()},getServiceList:function(){var e=this;Object(s.k)(this.listQuery).then(function(t){0==t.code&&(e.list=t.data.items,e.total=t.data.total)})}}},f=(i("kjFS"),i("KHd+")),p=Object(f.a)(m,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bussinessAd"},[i("div",{staticClass:"filter-container"},[i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleCreate}},[e._v("添加")]),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"请输入主题"},model:{value:e.listQuery.adTitle,callback:function(t){e.$set(e.listQuery,"adTitle",t)},expression:"listQuery.adTitle"}}),e._v(" "),"2"==e.elementType?i("el-select",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入企业名称",clearable:"","remote-method":e.searchFirmList,loading:e.loading},on:{change:e.getList},model:{value:e.listQuery.elementValue,callback:function(t){e.$set(e.listQuery,"elementValue",t)},expression:"listQuery.elementValue"}},e._l(e.firmList,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})):e._e(),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"是否上架",clearable:""},on:{change:e.getList},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusList,function(e,t){return i("el-option",{key:e+t,attrs:{label:e.name,value:e.id}})})),e._v(" "),2==e.relateType?i("span",{staticClass:"filter-item"},[i("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"请选择投放服务类型"},on:{change:e.getList},model:{value:e.listQuery.typeValue,callback:function(t){e.$set(e.listQuery,"typeValue",t)},expression:"listQuery.typeValue"}},e._l(e.typeValueList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})}))],1):e._e(),e._v(" "),3==e.relateType?i("span",{staticClass:"filter-item"},[i("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择一级服务"},on:{change:e.firstCodeSearch},model:{value:e.firstCodeFilter,callback:function(t){e.firstCodeFilter=t},expression:"firstCodeFilter"}},e._l(e.firstCodeList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})})),e._v(" "),i("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择二级服务"},on:{change:e.secondCodeSearch},model:{value:e.secondCodeFilter,callback:function(t){e.secondCodeFilter=t},expression:"secondCodeFilter"}},e._l(e.secondCodeList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})}))],1):e._e(),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.getList}},[e._v("筛选")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"tooltip-effect":"dark",data:e.list,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"主题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.adTitle))])]}}])}),e._v(" "),"1"==e.elementType?i("el-table-column",{attrs:{label:"广告缩略图",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticStyle:{width:"100px"},attrs:{src:e.row.elementValue,alt:"",srcset:""}})]}}])}):e._e(),e._v(" "),"2"==e.elementType?i("el-table-column",{attrs:{label:"企业名称",align:"center",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.elementName))])]}}])}):e._e(),e._v(" "),2==e.relateType||3==e.relateType?i("el-table-column",{attrs:{label:"服务类型",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.typeName))])]}}])}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"状态",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?i("el-tag",[e._v(e._s(e._f("statusFilters")(t.row.status)))]):i("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"400","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status||2==t.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.managerAdvertList(t.row)}}},[e._v("管理投放记录")]),e._v(" "),0==t.row.status||3==t.row.status||2==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"small"},on:{click:function(i){e.handleUp(t.row)}}},[e._v(e._s(2==t.row.status?"重新":"")+"上架")]):e._e(),e._v(" "),1==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"small"},on:{click:function(i){e.handleDown(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),0==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:function(i){e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}}),e._v(" "),i("el-dialog",{attrs:{width:"1000px",title:"edit"==e.dialogStatus?"编辑":"新增",visible:e.dialogFormVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",[i("el-form",{ref:"dataForm",staticStyle:{"margin-left":"50px"},attrs:{model:e.form,"label-position":"right","label-width":"150px"}},[i("el-form-item",{attrs:{label:"主题：",prop:"adTitle"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入主题（15字以内）"},model:{value:e.form.adTitle,callback:function(t){e.$set(e.form,"adTitle",t)},expression:"form.adTitle"}})],1),e._v(" "),2==e.relateType?i("el-form-item",{attrs:{label:"投放服务类型："}},[i("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"请选择投放服务类型"},model:{value:e.form.typeValue,callback:function(t){e.$set(e.form,"typeValue",t)},expression:"form.typeValue"}},e._l(e.typeValueList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})}))],1):e._e(),e._v(" "),3==e.relateType?i("el-form-item",{attrs:{label:"投放服务类型："}},[i("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择一级服务"},on:{change:e.firstCodeChange},model:{value:e.firstCode,callback:function(t){e.firstCode=t},expression:"firstCode"}},e._l(e.firstCodeList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})})),e._v(" "),i("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择二级服务"},on:{change:e.secondCodeChange},model:{value:e.secondCode,callback:function(t){e.secondCode=t},expression:"secondCode"}},e._l(e.secondCodeList,function(e,t){return i("el-option",{key:e.name+t,attrs:{label:e.name,value:e.code}})}))],1):e._e(),e._v(" "),"1"==e.elementType?i("el-form-item",{attrs:{label:"广告图片：",prop:"elementValue"}},[i("Upload",{model:{value:e.form.elementValue,callback:function(t){e.$set(e.form,"elementValue",t)},expression:"form.elementValue"}})],1):e._e(),e._v(" "),"2"==e.elementType?i("el-form-item",{attrs:{label:"选择公司：",prop:""}},[i("input",{attrs:{hidden:"",type:"text"},domProps:{value:e.form.elementValue.fileId}}),e._v(" "),i("el-select",{staticStyle:{width:"350px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.searchFirmList,loading:e.loading},on:{change:e.elementValueNameChange},model:{value:e.form.elementName,callback:function(t){e.$set(e.form,"elementName",t)},expression:"form.elementName"}},e._l(e.firmList,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"跳转类型：",prop:"goType"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"跳转类型",clearable:""},model:{value:e.form.goType,callback:function(t){e.$set(e.form,"goType",t)},expression:"form.goType"}},e._l(e.goTypeList,function(e,t){return i("el-option",{key:"goType1"+e.id+t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),2==e.form.goType?i("el-form-item",{attrs:{label:"跳转页面：",prop:"adValue"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"跳转页面",clearable:""},on:{change:e.pageUrlChange},model:{value:e.form.nativeUrl,callback:function(t){e.$set(e.form,"nativeUrl",t)},expression:"form.nativeUrl"}},e._l(e.pageUrlList,function(e,t){return i("el-option",{key:e.id+t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),1==e.form.goType?i("el-form-item",{attrs:{label:"跳转地址：",prop:"adValue"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入跳转地址"},model:{value:e.form.h5Url,callback:function(t){e.$set(e.form,"h5Url",t)},expression:"form.h5Url"}})],1):e._e(),e._v(" "),""!==e.form.nativeUrl&&2==e.form.goType?i("el-form-item",{attrs:{label:"选择跳转详情公司：",prop:""}},[i("input",{attrs:{hidden:"",type:"text"},domProps:{value:e.form.firmId}}),e._v(" "),i("el-select",{staticStyle:{width:"350px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.searchFirmList,loading:e.loading},on:{change:e.firmNameChange},model:{value:e.form.firmName,callback:function(t){e.$set(e.form,"firmName",t)},expression:"form.firmName"}},e._l(e.firmList,function(e){return i("el-option",{key:e.name+"firm1",attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),"main/home/queryService/servicer"==e.form.nativeUrl&&2==e.form.goType?i("el-form-item",{attrs:{label:"选择服务："}},[i("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.serviceIdChange},model:{value:e.serviceId,callback:function(t){e.serviceId=t},expression:"serviceId"}},e._l(e.serviceList,function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{width:"450px"},attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.dialogStatusLoading},on:{click:function(t){"create"==e.dialogStatus?e.createData():e.editData()}}},[e._v("保存")])],1)]),e._v(" "),i("el-dialog",{attrs:{width:"1000px",title:"管理投放记录",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.putListLoading,expression:"putListLoading"}],staticStyle:{width:"100%"},attrs:{"tooltip-effect":"dark",data:e.putList,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"投放城市",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.cityName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"广告位顺序",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.adIndex))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"投放时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.startTime)+" - "+e._s(t.row.endTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否生效",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.valid?i("el-tag",[e._v(e._s(e._f("validFilters")(t.row.valid)))]):i("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._f("validFilters")(t.row.valid)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[new Date(t.row.endTime.replace(/-/g,"/")).valueOf()<(new Date).valueOf()?i("div",[i("el-tag",{attrs:{type:"danger"}},[e._v("已过期")])],1):i("div",[1==t.row.status?i("el-tag",[e._v(e._s(e._f("statusFilters")(t.row.status)))]):i("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._f("statusFilters")(t.row.status)))])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"250","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[new Date(t.row.endTime.replace(/-/g,"/")).valueOf()>(new Date).valueOf()?i("div",[0==t.row.status||2==t.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.editCityFormDialog(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),0==t.row.status||2==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"small"},on:{click:function(i){e.advertRecordUp(t.row)}}},[e._v("上架")]):e._e(),e._v(" "),1==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"small"},on:{click:function(i){e.advertRecordDown(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),0==t.row.status?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:function(i){e.advertRecordDelete(t.row)}}},[e._v("删除")]):e._e()],1):e._e()]}}])})],1),e._v(" "),i("div",{staticClass:"listTab"},[i("el-button",{attrs:{type:"primary"},on:{click:e.addCityFormDialog}},[e._v("添加广告")])],1)],1),e._v(" "),i("el-dialog",{attrs:{width:"1000px",title:"create"==e.dialogStatus2?"新增广告":"编辑广告",visible:e.createCityFormDialog},on:{"update:visible":function(t){e.createCityFormDialog=t}}},[i("el-form",{ref:"addCityForm",staticStyle:{"margin-left":"50px"},attrs:{model:e.addCityForm,"label-position":"right","label-width":"150px"}},[i("el-form-item",{attrs:{label:"选择投放城市：",prop:"putCity"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"190px"},attrs:{placeholder:"选择投放城市",clearable:""},on:{change:e.provinceChange},model:{value:e.addCityForm.provinceCode,callback:function(t){e.$set(e.addCityForm,"provinceCode",t)},expression:"addCityForm.provinceCode"}},e._l(e.provinceList,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),e._v(" "),""!=e.addCityForm.provinceCode&&-1!=e.addCityForm.provinceCode?i("el-select",{staticClass:"filter-item",staticStyle:{width:"190px"},attrs:{placeholder:"选择投放城市",clearable:""},on:{change:e.cityChange},model:{value:e.addCityForm.cityCode,callback:function(t){e.$set(e.addCityForm,"cityCode",t)},expression:"addCityForm.cityCode"}},e._l(e.cityList,function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:"选择投放时间：",prop:"putTime"}},[i("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.timeChange},model:{value:e.addCityForm.putTime,callback:function(t){e.$set(e.addCityForm,"putTime",t)},expression:"addCityForm.putTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"可用广告位：",prop:""}},[i("div",{staticClass:"canUse"},e._l(e.canUsePosition,function(t,a){return i("span",{key:"canUsePosition"+a,class:t.active?t.disabled?"active disabled":"active":t.disabled?"disabled":"",on:{click:function(t){e.selectThisAd(a)}}},[e._v(e._s(t.adNum))])}))])],1),e._v(" "),i("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.createCityFormDialog=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.dialogStatusLoading2},on:{click:function(t){"create"==e.dialogStatus2?e.createCityData():e.editCityData()}}},[e._v("保存")])],1)],1)],1)},[],!1,null,"ae40b32a",null);p.options.__file="BussinessAd.vue";t.a=p.exports},c14z:function(e,t,i){"use strict";i.d(t,"c",function(){return s}),i.d(t,"a",function(){return r}),i.d(t,"b",function(){return l}),i.d(t,"d",function(){return d}),i.d(t,"g",function(){return c}),i.d(t,"h",function(){return u}),i.d(t,"f",function(){return m}),i.d(t,"e",function(){return f}),i.d(t,"k",function(){return p}),i.d(t,"l",function(){return h}),i.d(t,"m",function(){return y}),i.d(t,"i",function(){return v}),i.d(t,"j",function(){return g});var a=i("DG18"),o=i("Qyje"),n=i.n(o);function s(e){return Object(a.b)("/merchant/apply/list",e)}function r(e){return Object(a.b)("/merchant/apply/audit",e)}function l(e){return Object(a.a)("/merchant/apply/detail",e)}function d(e){return Object(a.a)("/merchant/apply/company_types",e)}function c(e){return Object(a.b)("/merchant/list",e)}function u(e){var t=n.a.stringify(e);return Object(a.b)("/merchant/shelf/up",t)}function m(e){var t=n.a.stringify(e);return Object(a.b)("/merchant/shelf/down",t)}function f(e){return Object(a.a)("/merchant/detail",e)}function p(e){return Object(a.b)("/service/list",e)}function h(e){var t=n.a.stringify(e);return Object(a.b)("/service/shelf/down",t)}function y(e){var t=n.a.stringify(e);return Object(a.b)("/service/shelf/up",t)}function v(e){return Object(a.a)("/service/detail",e)}function g(e){return Object(a.a)("/service/down_records",e)}},"gDS+":function(e,t,i){e.exports={default:i("oh+g"),__esModule:!0}},jUE0:function(e,t,i){},kaoP:function(e,t,i){"use strict";i.d(t,"c",function(){return o}),i.d(t,"b",function(){return n}),i.d(t,"a",function(){return s}),i.d(t,"d",function(){return r});var a=i("DG18");function o(){return Object(a.a)("/address/provinces")}function n(e){return Object(a.a)("/address/citys",e)}function s(e){return Object(a.a)("/address/areas",e)}function r(e){return Object(a.a)("/address/globalTrees",e)}},kjFS:function(e,t,i){"use strict";var a=i("xJrC");i.n(a).a},"oh+g":function(e,t,i){var a=i("WEpk"),o=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},xJrC:function(e,t,i){}}]);