(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a8d"],{"+jcw":function(t,a,e){"use strict";a.a={data:function(){return{app:["财税鱼"]}}}},"2ZAk":function(t,a,e){},MSNs:function(t,a,e){"use strict";e.d(a,"a",function(){return o});var r=e("DG18");function o(t){return Object(r.b)("/fileupload/upload",t)}},QDog:function(t,a,e){"use strict";a.a={jumpTypeList:[{name:"原生普通页面",id:1},{name:"h5链接",id:2},{name:"服务搜索页",id:3},{name:"公司详情页",id:4}],statusList:[{name:"待上架",id:0},{name:"已上架",id:1},{name:"已下架",id:2}],pageUrlList:[{name:"公司详情页",id:"main/home/queryService/company"},{name:"服务详情页",id:"main/home/queryService/servicer"}],formTypeList:[{name:"海外公司注册",id:1},{name:"公司注册",id:2}]}},VTUa:function(t,a,e){"use strict";e.r(a);var r=e("gDS+"),o=e.n(r),l=e("+jcw"),i=e("cYbK"),s=e("MSNs"),n=e("QDog"),m={data:function(){return{url:"",formTypeList:n.a.formTypeList,formData:{packageName:"小白贷款",advertisingChannel:"",channelRemark:"",landpageUrl:"",headImg:"",headImgUrl:"",topImg:"",topImgUrl:"",title:"",pageType:"",pageBgColor:"#FFFFFF",buttonBgColor:"#1574FF",buttonRemarkColor:"#FFFFFF",buttonRemark:"",dowloadUrl:"",buttonUnder:"",tailImg:"",tailImgUrl:"",riskInfo:"",companyInfo:"",jsBase:"",jsReport:"",status:"",preRegisterBgColor:"#FFFFFF",buttonUnderColor:"#555555",riskInfoColor:"#555555",companyInfoColor:"#999999",formType:"1",formTitle:""},rules:{}}},mixins:[l.a],watch:{"formData.pageBgColor":function(t){t||(this.formData.pageBgColor="#FFFFFF")},"formData.buttonBgColor":function(t){t||(this.formData.buttonBgColor="#1574FF")},"formData.buttonRemarkColor":function(t){t||(this.formData.buttonRemarkColor="#FFFFFF")}},methods:{getDetail:function(){var t=this,a={id:this.$route.query.id};Object(i.f)(a).then(function(a){0==a.code&&(a.data.formJson&&(a.data.formType=JSON.parse(a.data.formJson).formType,a.data.formTypeName=JSON.parse(a.data.formJson).formTypeName,a.data.formTitle=JSON.parse(a.data.formJson).formTitle),a.data.id=t.$route.query.id,a.data.headImgUrl=a.data.headImg,a.data.topImgUrl=a.data.topImg,a.data.tailImgUrl=a.data.tailImg,t.formData=a.data)})},handleSubmit:function(){var t=this,a=this.formData;if(3==this.formData.pageType){if(!this.formData.formType||""==this.formData.formType)return void this.$message({type:"error",message:"请先选择意向收集表单类型"});if(!this.formData.formTitle||""==this.formData.formTitle)return void this.$message({type:"error",message:"请先输入意向收集表单标题"});a.formJson=o()({formType:this.formData.formType,formTypeName:this.formData.formTypeName,formTitle:this.formData.formTitle})}Object(i.e)(a).then(function(a){0==a.code&&(t.$message({type:"success",message:"修改成功"}),t.$router.push("/landPage"))})},handleText:function(t){return t=t.replace(/\n/g,"<br/>")},uploadHeadImg:function(t){var a=this;if(-1!=t.file.type.indexOf("image")){var e=new FormData;e.append("files",t.file),Object(s.a)(e).then(function(e){if(0==e.code){var r=new FileReader;r.readAsDataURL(t.file),r.onloadend=function(t){a.formData.headImg=e.data[0].fileId,a.formData.headImgUrl=t.target.result,a.$forceUpdate()}}}).catch(function(t){a.$message.error("上传失败，请重新上传")})}else this.$message.error("只能上传图片文件")},deleteHeadImg:function(){this.$forceUpdate(),this.formData.headImg="",this.formData.headImgUrl=""},uploadTopImg:function(t){var a=this;if(-1!=t.file.type.indexOf("image")){var e=new FormData;e.append("files",t.file),Object(s.a)(e).then(function(e){if(0==e.code){var r=new FileReader;r.readAsDataURL(t.file),r.onloadend=function(t){a.formData.topImgUrl=t.target.result,a.formData.topImg=e.data[0].fileId,a.$forceUpdate()}}}).catch(function(t){a.$message.error("上传失败，请重新上传")})}else this.$message.error("只能上传图片文件")},deleteTopImg:function(){this.$forceUpdate(),this.formData.topImg="",this.formData.topImgUrl=""},uploadTailImg:function(t){var a=this;if(-1!=t.file.type.indexOf("image")){var e=new FormData;e.append("files",t.file),Object(s.a)(e).then(function(e){if(0==e.code){var r=new FileReader;r.readAsDataURL(t.file),r.onloadend=function(t){a.$forceUpdate(),a.formData.tailImgUrl=t.target.result,a.formData.tailImg=e.data[0].fileId,a.$forceUpdate()}}}).catch(function(t){a.$message.error("上传失败，请重新上传")})}else this.$message.error("只能上传图片文件")},deleteTailImg:function(){this.$forceUpdate(),this.formData.tailImg="",this.formData.tailImgUrl=""},formTypeChange:function(t){for(var a=0;a<this.formTypeList.length;a++)this.formTypeList[a].id==t&&(this.formData.formTypeName=this.formTypeList[a].name)}},created:function(){this.getDetail()},mounted:function(){}},f=(e("sOdX"),e("KHd+")),c=Object(f.a)(m,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"create_page"},[e("div",{staticClass:"form"},[e("el-form",{ref:"createPage",attrs:{"label-width":"200px",model:t.formData,rules:t.rules}},[e("div",{staticStyle:{"margin-bottom":"12px"}},[e("span",{staticStyle:{"font-size":"16px",padding:"15px","border-radius":"5px"}},[t._v("投放目标")])]),t._v(" "),e("el-form-item",{attrs:{label:"投放应用：",prop:"packageName"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.packageName,callback:function(a){t.$set(t.formData,"packageName",a)},expression:"formData.packageName"}},t._l(t.app,function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"投放渠道：",prop:"advertisingChannel"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入投放渠道"},model:{value:t.formData.advertisingChannel,callback:function(a){t.$set(t.formData,"advertisingChannel",a)},expression:"formData.advertisingChannel"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"渠道备注：",prop:"channelRemark"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入渠道备注"},model:{value:t.formData.channelRemark,callback:function(a){t.$set(t.formData,"channelRemark",a)},expression:"formData.channelRemark"}})],1),t._v(" "),e("div",{staticStyle:{"margin-bottom":"12px"}},[e("span",{staticStyle:{"font-size":"16px",padding:"15px","border-radius":"5px"}},[t._v("落地页配置")])]),t._v(" "),e("el-form-item",{attrs:{label:"落地页url：",prop:"landpageUrl"}},[e("el-input",{attrs:{type:"text",placeholder:"",readonly:""},model:{value:t.formData.landpageUrl,callback:function(a){t.$set(t.formData,"landpageUrl",a)},expression:"formData.landpageUrl"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"落地页标题：",prop:"title"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入落地页标题"},model:{value:t.formData.title,callback:function(a){t.$set(t.formData,"title",a)},expression:"formData.title"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"头图：",prop:"headImg"}},[e("el-upload",{attrs:{action:"","show-file-list":!1,"http-request":t.uploadHeadImg}},[t.formData.headImgUrl?e("img",{staticClass:"avatar",attrs:{src:t.formData.headImgUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.formData.headImgUrl,expression:"formData.headImgUrl"}],attrs:{icon:"el-icon-delete",size:"small",type:"danger"},on:{click:t.deleteHeadImg}},[t._v("删除")])],1),t._v(" "),e("el-form-item",{attrs:{label:"头部浮层：",prop:"topImg"}},[e("el-upload",{attrs:{action:"","show-file-list":!1,"http-request":t.uploadTopImg}},[t.formData.topImgUrl?e("img",{staticClass:"avatar",attrs:{src:t.formData.topImgUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.formData.topImgUrl,expression:"formData.topImgUrl"}],attrs:{icon:"el-icon-delete",size:"small",type:"danger"},on:{click:t.deleteTopImg}},[t._v("删除")])],1),t._v(" "),e("el-form-item",{attrs:{label:"浮层距顶部高度：",prop:"topSpace"}},[e("el-input",{attrs:{type:"number",placeholder:"请输入浮层距顶部高度："},model:{value:t.formData.topSpace,callback:function(a){t.$set(t.formData,"topSpace",a)},expression:"formData.topSpace"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"页面背景颜色：",prop:"pageBgColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.pageBgColor,callback:function(a){t.$set(t.formData,"pageBgColor",a)},expression:"formData.pageBgColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"页面类型：",prop:"pageType"}},[e("el-radio-group",{model:{value:t.formData.pageType,callback:function(a){t.$set(t.formData,"pageType",a)},expression:"formData.pageType"}},[e("el-radio",{attrs:{label:1}},[t._v("预注册")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("直接下载")]),t._v(" "),e("el-radio",{attrs:{label:3}},[t._v("意向收集")])],1)],1),t._v(" "),3==t.formData.pageType?e("el-form-item",{attrs:{label:"意向收集表单类型：",prop:"formType"}},[e("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},on:{change:t.formTypeChange},model:{value:t.formData.formType,callback:function(a){t.$set(t.formData,"formType",a)},expression:"formData.formType"}},t._l(t.formTypeList,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),3==t.formData.pageType?e("el-form-item",{attrs:{label:"意向收集表单标题：",prop:"formTitle"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入意向收集表单标题"},model:{value:t.formData.formTitle,callback:function(a){t.$set(t.formData,"formTitle",a)},expression:"formData.formTitle"}})],1):t._e(),t._v(" "),e("el-form-item",{attrs:{label:"表单区域背景颜色：",prop:"pageBgColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.preRegisterBgColor,callback:function(a){t.$set(t.formData,"preRegisterBgColor",a)},expression:"formData.preRegisterBgColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"按钮背景颜色：",prop:"buttonBgColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.buttonBgColor,callback:function(a){t.$set(t.formData,"buttonBgColor",a)},expression:"formData.buttonBgColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"按钮文案：",prop:"buttonRemark"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入按钮文案"},model:{value:t.formData.buttonRemark,callback:function(a){t.$set(t.formData,"buttonRemark",a)},expression:"formData.buttonRemark"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"按钮文案颜色：",prop:"buttonRemarkColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.buttonRemarkColor,callback:function(a){t.$set(t.formData,"buttonRemarkColor",a)},expression:"formData.buttonRemarkColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"下载地址：",prop:"dowloadUrl"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入下载地址"},model:{value:t.formData.dowloadUrl,callback:function(a){t.$set(t.formData,"dowloadUrl",a)},expression:"formData.dowloadUrl"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"按钮下方文案颜色：",prop:"buttonRemarkColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.buttonUnderColor,callback:function(a){t.$set(t.formData,"buttonUnderColor",a)},expression:"formData.buttonUnderColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"按钮下方文案：",prop:"buttonUnder"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入按钮下方文案"},model:{value:t.formData.buttonUnder,callback:function(a){t.$set(t.formData,"buttonUnder",a)},expression:"formData.buttonUnder"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"底图：",prop:"tailImg"}},[e("el-upload",{attrs:{action:"","show-file-list":!1,"http-request":t.uploadTailImg}},[t.formData.tailImgUrl?e("img",{staticClass:"avatar",attrs:{src:t.formData.tailImgUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.formData.tailImgUrl,expression:"formData.tailImgUrl"}],attrs:{icon:"el-icon-delete",size:"small",type:"danger"},on:{click:t.deleteTailImg}},[t._v("删除")])],1),t._v(" "),e("el-form-item",{attrs:{label:"风险说明文案颜色：",prop:"buttonRemarkColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.riskInfoColor,callback:function(a){t.$set(t.formData,"riskInfoColor",a)},expression:"formData.riskInfoColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"风险说明：",prop:"riskInfo"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入风险说明"},model:{value:t.formData.riskInfo,callback:function(a){t.$set(t.formData,"riskInfo",a)},expression:"formData.riskInfo"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"公司名称、备案号文案颜色：",prop:"buttonRemarkColor"}},[e("el-color-picker",{attrs:{size:"medium"},model:{value:t.formData.companyInfoColor,callback:function(a){t.$set(t.formData,"companyInfoColor",a)},expression:"formData.companyInfoColor"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"公司名称、备案号：",prop:"companyInfo"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入公司名称、备案号"},model:{value:t.formData.companyInfo,callback:function(a){t.$set(t.formData,"companyInfo",a)},expression:"formData.companyInfo"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"js基础代码：",prop:"jsBase"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入js基础代码"},model:{value:t.formData.jsBase,callback:function(a){t.$set(t.formData,"jsBase",a)},expression:"formData.jsBase"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"js转化代码：",prop:"jsReport"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入js转化代码"},model:{value:t.formData.jsReport,callback:function(a){t.$set(t.formData,"jsReport",a)},expression:"formData.jsReport"}})],1)],1),t._v(" "),e("div",{staticClass:"handle_btn"},[e("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:function(a){t.$router.back()}}},[t._v("返回")]),t._v(" "),e("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("保存")])],1)],1),t._v(" "),e("div",{staticClass:"preview"},[e("div",{staticClass:"preview_box",style:{"background-color":t.formData.pageBgColor}},[e("div",{staticClass:"page_title"},[t._v(t._s(t.formData.title))]),t._v(" "),e("div",{staticClass:"container1"},[e("img",{ref:"banner",staticClass:"banner",attrs:{src:t.formData.headImgUrl}}),t._v(" "),e("img",{staticClass:"topImg",style:{top:t.formData.topSpace+"px"},attrs:{src:t.formData.topImgUrl}}),t._v(" "),e("div",{style:{"background-color":t.formData.preRegisterBgColor,"margin-top":"16px",position:"relative"}},[1==t.formData.pageType?e("div",{staticClass:"registered-icon"},[t._m(0)]):t._e(),t._v(" "),3==t.formData.pageType?e("div",{staticClass:"intentionCollect"},[1==t.formData.formType?e("div",{staticClass:"intentionCollect_form"},[e("div",{staticClass:"title"},[t._v(t._s(t.formData.formTitle))]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(1),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"text",readonly:"",placeholder:"请选择"}})])]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(2),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"text",readonly:"",placeholder:"请选择"}})])]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(3),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"tel",readonly:"",placeholder:"请输入"}})])]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(4),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"text",readonly:"",placeholder:"请输入"}})])])]):t._e(),t._v(" "),2==t.formData.formType?e("div",{staticClass:"intentionCollect_form"},[e("div",{staticClass:"title"},[t._v(t._s(t.formData.formTitle))]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(5),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"text",readonly:"",placeholder:"如：杭州-西湖区"}})])]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(6),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"tel",readonly:"",placeholder:"请输入"}})])]),t._v(" "),e("div",{staticClass:"form_item"},[t._m(7),t._v(" "),e("div",{staticClass:"select"},[e("input",{style:{"background-color":t.formData.preRegisterBgColor},attrs:{type:"text",readonly:"",placeholder:"请输入"}})])])]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"download_btn",style:{"background-color":t.formData.buttonBgColor,color:t.formData.buttonRemarkColor}},[t._v(t._s(t.formData.buttonRemark))]),t._v(" "),t.formData.buttonUnder?e("div",{staticClass:"tip form_tip",style:{color:t.formData.buttonUnderColor},domProps:{innerHTML:t._s(t.handleText(t.formData.buttonUnder))}}):t._e()]),t._v(" "),t.formData.tailImgUrl?e("img",{staticClass:"intro",attrs:{src:t.formData.tailImgUrl}}):t._e(),t._v(" "),t.formData.riskInfo?e("div",{staticClass:"bottom_text2 riskInfo",style:{color:t.formData.riskInfoColor},domProps:{innerHTML:t._s(t.handleText(t.formData.riskInfo))}}):t._e(),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"line1"}),t._v(" "),e("div",{staticClass:"bottom_text2",style:{color:t.formData.companyInfoColor},domProps:{innerHTML:t._s(t.handleText(t.formData.companyInfo))}})])])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("form",{staticClass:"registered-form",attrs:{method:"post"}},[a("div",{staticClass:"registered-form-item"},[a("input",{staticClass:"registered-form-phone",attrs:{type:"number",pattern:"\\d*",placeholder:"请输入正确的手机号",readonly:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("国家/地区"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("注册意向"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("联系电话"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("如何称呼"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("城市/地区"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("联系电话"),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("label",[this._v("如何称呼"),a("span",[this._v("*")])])}],!1,null,"08f4ab84",null);c.options.__file="editPage.vue";a.default=c.exports},cYbK:function(t,a,e){"use strict";e.d(a,"g",function(){return i}),e.d(a,"a",function(){return s}),e.d(a,"b",function(){return n}),e.d(a,"f",function(){return m}),e.d(a,"c",function(){return f}),e.d(a,"e",function(){return c}),e.d(a,"h",function(){return p}),e.d(a,"d",function(){return d});var r=e("DG18"),o=e("Qyje"),l=e.n(o);function i(t){return Object(r.a)("/api/channelPage/obtainPaging",t)}function s(t){var a=l.a.stringify(t);return Object(r.b)("/api/channelPage/addition",a)}function n(t){var a=l.a.stringify(t);return Object(r.b)("/api/channelPage/copy",a)}function m(t){return Object(r.a)("/api/channelPage/obtainDetail",t)}function f(t){var a=l.a.stringify(t);return Object(r.b)("/api/channelPage/delete",a)}function c(t){var a=l.a.stringify(t);return Object(r.b)("/api/channelPage/modify",a)}function p(t){return Object(r.a)("/api/channelPage/record",t)}function d(t){return Object(r.a)("/api/channelPage/intention/list",t)}},"gDS+":function(t,a,e){t.exports={default:e("oh+g"),__esModule:!0}},"oh+g":function(t,a,e){var r=e("WEpk"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},sOdX:function(t,a,e){"use strict";var r=e("2ZAk");e.n(r).a}}]);